exports.id=444,exports.ids=[444],exports.modules={696:(a,b,c)=>{"use strict";c.d(b,{M:()=>u,c:()=>n});var d=c(78157),e=c(31768),f=c(94496),g=c.n(f),h=c(92526),i=c(92685),j=c(34514),k=c(15188),l=c(79818),m=c(90200);let n=()=>{let[a,b]=(0,e.useState)({pageIndex:0,pageSize:10}),[c,f]=(0,e.useState)(null),{addNotification:n}=(0,j.j)(),{data:o,isLoading:p,error:q,errorMessage:r,refetch:s}=(0,h.gf)(["clients",a],()=>i.i.getClients()),t=(0,h.L2)(i.i.deleteClient),u=[{key:"name",label:"Name",render:(a,b)=>(0,d.jsx)(g(),{href:l.bw.CLIENT_EDIT.replace(":id",b.id),className:"text-blue-600 hover:text-blue-700 font-medium",children:a})},{key:"email",label:"Email"},{key:"phoneNumber",label:"Phone",render:a=>a||"-"},{key:"currency",label:"Currency",render:a=>a||"USD"},{key:"id",label:"Actions",render:(a,b)=>(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(g(),{href:l.bw.CLIENT_EDIT.replace(":id",b.id),children:(0,d.jsx)(m.$n,{variant:"secondary",size:"sm",children:"Edit"})}),(0,d.jsx)(m.$n,{variant:"danger",size:"sm",onClick:()=>f(b.id),children:"Delete"})]})}];return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Clients"}),(0,d.jsx)(g(),{href:l.bw.CLIENT_CREATE,children:(0,d.jsx)(m.$n,{children:"+ New Client"})})]}),p?(0,d.jsx)(m.kt,{text:"Loading clients..."}):q?(0,d.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:r}):(0,d.jsx)(m.bQ,{data:o||[],columns:u,pagination:a,onPaginationChange:b}),(0,d.jsx)(m.aF,{isOpen:!!c,onClose:()=>f(null),title:"Delete Client",size:"sm",footer:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.$n,{variant:"secondary",onClick:()=>f(null),disabled:t.isPending,children:"Cancel"}),(0,d.jsx)(m.$n,{variant:"danger",loading:t.isPending,disabled:t.isPending,onClick:()=>c&&void t.mutate(c,{onSuccess:()=>{n({type:k._n.SUCCESS,message:"Client deleted!",duration:3e3}),f(null),s()},onError:a=>{n({type:k._n.ERROR,message:a?.message||"Failed to delete client",duration:5e3})}}),children:"Delete"})]}),children:(0,d.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to delete this client? This action cannot be undone."})})]})};var o=c(6023),p=c(34224),q=c(71159),r=c(85717);let s=r.Yj().email("Invalid email address").trim().toLowerCase(),t=r.Ik({name:r.Yj().min(2,"Client name must be at least 2 characters").max(100,"Client name must be at most 100 characters").trim(),email:s,phoneNumber:r.Yj().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional().or(r.eu("")),address:r.Yj().max(300,"Address must be at most 300 characters").optional().or(r.eu("")),taxId:r.Yj().max(50,"Tax ID must be at most 50 characters").optional().or(r.eu("")),currency:r.fc(k.Sj).optional(),tags:r.YO(r.Yj().max(50,"Tag must be at most 50 characters")).optional().default([]),notes:r.Yj().max(500,"Notes must be at most 500 characters").optional().or(r.eu(""))});t.partial(),r.Ik({clients:r.YO(t).min(1,"At least one client is required").max(1e3,"Maximum 1000 clients can be imported at once")});let u=({clientId:a})=>{let b=(0,q.useRouter)(),{addNotification:c}=(0,j.j)(),{data:f}=(0,h.gf)(["client",a],()=>i.i.getClient(a),{enabled:!!a}),g=(0,h.L2)(i.i.createClient),n=(0,h.L2)(b=>i.i.updateClient(a,b)),{register:r,handleSubmit:s,formState:{errors:u},reset:v}=(0,o.mN)({resolver:(0,p.u)(t),defaultValues:{name:"",email:"",phoneNumber:"",address:"",taxId:"",currency:k.Sj.USD,tags:[],notes:""}});(0,e.useEffect)(()=>{f&&v(f)},[f,v]);let w=async d=>{try{(a?n.mutate:g.mutate)(d,{onSuccess:()=>{c({type:k._n.SUCCESS,message:a?"Client updated!":"Client created!",duration:3e3}),b.push(l.bw.CLIENTS)},onError:a=>{c({type:k._n.ERROR,message:a?.message||"Failed to save client",duration:5e3})}})}catch(a){c({type:k._n.ERROR,message:"An unexpected error occurred",duration:5e3})}},x=g.isPending||n.isPending;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a?"Edit Client":"Create Client"})}),(0,d.jsxs)("form",{onSubmit:s(w),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Client Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(m.zB,{...r("name"),label:"Company Name",placeholder:"Acme Corporation",error:u.name,required:!0}),(0,d.jsx)(m.zB,{...r("email"),type:"email",label:"Email",placeholder:"contact@acme.com",error:u.email,required:!0}),(0,d.jsx)(m.zB,{...r("phoneNumber"),type:"tel",label:"Phone Number",placeholder:"+1234567890",error:u.phoneNumber}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),(0,d.jsxs)("select",{...r("currency"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"",children:"Select currency"}),Object.values(k.Sj).map(a=>(0,d.jsx)("option",{value:a,children:a},a))]})]})]}),(0,d.jsx)(m.zB,{...r("address"),label:"Address",placeholder:"123 Main Street, City, State 12345",error:u.address}),(0,d.jsx)(m.zB,{...r("taxId"),label:"Tax ID",placeholder:"12-3456789",error:u.taxId}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,d.jsx)("textarea",{...r("notes"),placeholder:"Add any notes about this client...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.notes&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-500",children:u.notes.message})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 justify-end border-t border-gray-200 pt-6",children:[(0,d.jsx)(m.$n,{type:"button",variant:"secondary",onClick:()=>b.back(),disabled:x,children:"Cancel"}),(0,d.jsxs)(m.$n,{type:"submit",loading:x,disabled:x,children:[a?"Update":"Create"," Client"]})]})]})]})}},33703:(a,b,c)=>{Promise.resolve().then(c.bind(c,99593))},73871:(a,b,c)=>{Promise.resolve().then(c.bind(c,74976))},74976:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sadewadee/Downloads/Plugin Pro/Zenvoyer/zenvoyer-app/apps/web/src/app/(protected)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sadewadee/Downloads/Plugin Pro/Zenvoyer/zenvoyer-app/apps/web/src/app/(protected)/layout.tsx","default")},92526:(a,b,c)=>{"use strict";c.d(b,{L2:()=>i,gf:()=>h});var d=c(14380),e=c(86539),f=c(27108),g=c(81962);function h(a,b,c){let e=(0,d.I)({queryKey:a,queryFn:b,retry:(a,b)=>(0,f.d7)(b)?![400,401,403,404,409,422].includes(b.statusCode)&&a<3:a<3,...c});return{...e,error:e.error,errorMessage:e.error?(0,g.u1)(e.error):null}}function i(a,b){let c=(0,e.n)({mutationFn:a,...b});return{...c,error:c.error,errorMessage:c.error?(0,g.u1)(c.error):null}}},92685:(a,b,c)=>{"use strict";c.d(b,{i:()=>f});var d=c(44224),e=c(79818);let f={getClients:()=>(0,d.Jt)(e.Sn.CLIENTS),getClient:a=>(0,d.Jt)(e.Sn.CLIENT_BY_ID(a)),createClient:a=>(0,d.bE)(e.Sn.CLIENTS,a),updateClient:(a,b)=>(0,d.yJ)(e.Sn.CLIENT_BY_ID(a),b),deleteClient:a=>(0,d.yH)(e.Sn.CLIENT_BY_ID(a)),importClients:a=>(0,d.bE)(e.Sn.CLIENTS_IMPORT,a)}},99593:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>r});var d=c(78157),e=c(31768),f=c(94496),g=c.n(f),h=c(58886),i=c(34514),j=c(79818);let k=()=>{let{user:a,logout:b}=(0,h.h)(),{sidebarOpen:c,setSidebarOpen:f}=(0,i.j)(),[k,l]=(0,e.useState)(!1);return(0,d.jsx)("nav",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-40",children:(0,d.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:()=>f(!c),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"☰"}),(0,d.jsx)(g(),{href:j.bw.DASHBOARD,className:"text-xl font-bold text-blue-600",children:"Zenvoyer"})]}),(0,d.jsx)("div",{className:"flex items-center gap-4",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>l(!k),className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold",children:a?.firstName?.charAt(0)}),(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[a?.firstName," ",a?.lastName]}),(0,d.jsx)("span",{className:"text-gray-600",children:"▼"})]}),k&&(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[(0,d.jsx)(g(),{href:j.bw.PROFILE,className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>l(!1),children:"Profile Settings"}),(0,d.jsx)(g(),{href:j.bw.SECURITY,className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>l(!1),children:"Security"}),(0,d.jsx)("hr",{className:"my-1"}),(0,d.jsx)("button",{onClick:()=>{b(),l(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})]})]})})]})})};var l=c(71159),m=c(53417);let n=[{label:"Dashboard",href:j.bw.DASHBOARD,icon:"\uD83D\uDCCA"},{label:"Invoices",href:j.bw.INVOICES,icon:"\uD83D\uDCC4"},{label:"Clients",href:j.bw.CLIENTS,icon:"\uD83D\uDC65"},{label:"Products",href:j.bw.PRODUCTS,icon:"\uD83D\uDCE6"},{label:"Payments",href:j.bw.PAYMENTS,icon:"\uD83D\uDCB3"}],o=()=>{let a=(0,l.usePathname)(),{sidebarOpen:b}=(0,i.j)();return(0,d.jsxs)("aside",{className:(0,m.cn)("fixed left-0 top-16 bottom-0 bg-gray-900 text-white transition-all duration-300 ease-in-out z-30",b?"w-64":"w-20"),children:[(0,d.jsx)("nav",{className:"p-4 space-y-2",children:n.map(c=>{let e=a===c.href||a.startsWith(c.href+"/");return(0,d.jsxs)(g(),{href:c.href,className:(0,m.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",e?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),title:b?void 0:c.label,children:[(0,d.jsx)("span",{className:"text-xl flex-shrink-0",children:c.icon}),b&&(0,d.jsx)("span",{className:"text-sm font-medium",children:c.label})]},c.href)})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-700 p-4 space-y-2",children:(0,d.jsxs)(g(),{href:j.bw.SETTINGS,className:(0,m.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a===j.bw.SETTINGS?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),title:b?void 0:"Settings",children:[(0,d.jsx)("span",{className:"text-xl flex-shrink-0",children:"⚙️"}),b&&(0,d.jsx)("span",{className:"text-sm font-medium",children:"Settings"})]})})]})};var p=c(90200);let q=({children:a})=>{let{isAuthenticated:b,initalized:c}=(0,h.h)(),{sidebarOpen:e}=(0,i.j)();return c?b?(0,d.jsx)(p.tH,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,d.jsx)(k,{}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(o,{}),(0,d.jsx)("main",{className:(0,m.cn)("flex-1 transition-all duration-300 ease-in-out",e?"ml-64":"ml-20"),children:(0,d.jsx)("div",{className:"p-6 min-h-[calc(100vh-64px)]",children:a})})]})]})}):(0,d.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:"Please log in to continue."}):(0,d.jsx)(p.kt,{fullScreen:!0})};function r({children:a}){return(0,d.jsx)(q,{children:a})}}};