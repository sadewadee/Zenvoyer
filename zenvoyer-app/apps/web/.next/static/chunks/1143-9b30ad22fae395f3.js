(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1143],{130:(e,r,s)=>{"use strict";s.r(r),s.d(r,{RegisterForm:()=>N,default:()=>j});var a=s(4568);s(7620);var t=s(3631),l=s(2935),o=s(7541),n=s(9664),i=s.n(n),c=s(5240),d=s(9769),m=s(6005);let u=(0,s(2068).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var h=s(8517),x=s(9760),w=s(1157),p=s(6640),f=s(8350),y=s(3046),g=s(7248),b=s(2151);let N=()=>{let e=(0,o.useRouter)(),{register:r,isLoading:s}=(0,p.h)(),{addNotification:n}=(0,f.j)(),{register:N,handleSubmit:j,formState:{errors:v}}=(0,t.mN)({resolver:(0,l.u)(w.zK),defaultValues:{email:"",firstName:"",lastName:"",phoneNumber:"",password:"",confirmPassword:""}}),A=async s=>{try{let a=await r(s.email,s.password,s.firstName,s.lastName);a.success?(n({type:y._n.SUCCESS,message:"Account created successfully!",duration:3e3}),e.push(g.bw.DASHBOARD)):n({type:y._n.ERROR,message:a.error||"Registration failed",duration:5e3})}catch(e){n({type:y._n.ERROR,message:"An unexpected error occurred",duration:5e3})}};return(0,a.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Start managing your invoices today"})]}),(0,a.jsxs)("form",{onSubmit:j(A),className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(b.zB,{...N("firstName"),label:"First Name",placeholder:"John",error:v.firstName,icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)(b.zB,{...N("lastName"),label:"Last Name",placeholder:"Doe",error:v.lastName,icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-400"}),required:!0})]}),(0,a.jsx)(b.zB,{...N("email"),type:"email",label:"Email Address",placeholder:"you@example.com",error:v.email,icon:(0,a.jsx)(m.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)(b.zB,{...N("phoneNumber"),type:"tel",label:"Phone Number",placeholder:"+1234567890",error:v.phoneNumber,icon:(0,a.jsx)(u,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsx)(b.zB,{...N("password"),type:"password",label:"Password",placeholder:"••••••••",error:v.password,helperText:"At least 8 characters with uppercase, lowercase, and numbers",icon:(0,a.jsx)(h.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)(b.zB,{...N("confirmPassword"),type:"password",label:"Confirm Password",placeholder:"••••••••",error:v.confirmPassword,icon:(0,a.jsx)(h.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)(b.$n,{type:"submit",fullWidth:!0,loading:s,disabled:s,icon:(0,a.jsx)(x.A,{className:"w-5 h-5"}),className:"mt-6 h-12 text-base font-semibold",children:"Create Account"})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsxs)(i(),{href:g.bw.LOGIN,className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors inline-flex items-center gap-1",children:["Sign in",(0,a.jsx)(x.A,{className:"w-4 h-4"})]})]})})]})})},j=N},419:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1157:(e,r,s)=>{"use strict";s.d(r,{X5:()=>o,nM:()=>i,zK:()=>n});var a=s(3916);let t=a.Yj().email("Invalid email address").trim().toLowerCase(),l=a.Yj().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),o=a.Ik({email:t,password:a.Yj().min(1,"Password is required")}),n=a.Ik({email:t,firstName:a.Yj().min(2,"First name must be at least 2 characters").max(50,"First name must be at most 50 characters").trim(),lastName:a.Yj().min(2,"Last name must be at least 2 characters").max(50,"Last name must be at most 50 characters").trim(),phoneNumber:a.Yj().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional().or(a.eu("")),password:l,confirmPassword:a.Yj()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),i=a.Ik({oldPassword:a.Yj().min(1,"Old password is required"),newPassword:l,confirmPassword:a.Yj()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(e=>e.oldPassword!==e.newPassword,{message:"New password must be different from old password",path:["newPassword"]})},2068:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var a=s(7620);let t=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:r,...o,width:t,height:t,stroke:s,strokeWidth:i?24*Number(n)/Number(t):n,className:l("lucide",c),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[r,s]=e;return(0,a.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),i=(e,r)=>{let s=(0,a.forwardRef)((s,o)=>{let{className:i,...c}=s;return(0,a.createElement)(n,{ref:o,iconNode:r,className:l("lucide-".concat(t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return s.displayName=t(e),s}},2902:(e,r,s)=>{"use strict";function a(){for(var e,r,s=0,a="",t=arguments.length;s<t;s++)(e=arguments[s])&&(r=function e(r){var s,a,t="";if("string"==typeof r||"number"==typeof r)t+=r;else if("object"==typeof r)if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(a=e(r[s]))&&(t&&(t+=" "),t+=a)}else for(a in r)r[a]&&(t&&(t+=" "),t+=a);return t}(e))&&(a&&(a+=" "),a+=r);return a}s.d(r,{$:()=>a})},5214:(e,r,s)=>{"use strict";s.d(r,{Z:()=>l});var a=s(7156),t=s(7248);let l={register:e=>(0,a.bE)(t.Sn.AUTH_REGISTER,e),login:e=>(0,a.bE)(t.Sn.AUTH_LOGIN,e),getCurrentUser:()=>(0,a.Jt)(t.Sn.AUTH_ME),changePassword:e=>(0,a.F6)(t.Sn.AUTH_CHANGE_PASSWORD,e)}},5240:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},6005:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},6640:(e,r,s)=>{"use strict";s.d(r,{h:()=>c});var a=s(7620);let t=(0,s(1367).vt)(e=>({user:null,isLoading:!1,isAuthenticated:!1,setUser:r=>e({user:r,isAuthenticated:!!r}),setLoading:r=>e({isLoading:r}),login:r=>e({user:r,isAuthenticated:!0}),logout:()=>e({user:null,isAuthenticated:!1})}));var l=s(5214),o=s(7156),n=s(7248),i=s(796);function c(e){var r;let{user:s,isLoading:c,isAuthenticated:d,logout:m,setUser:u,setLoading:h}=t(),[x,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem(n.il);if(e){(0,o.O5)(e);let r=await l.Z.getCurrentUser();u(r)}}catch(e){(0,o.Tp)(),localStorage.removeItem(n.il)}finally{w(!0)}})()},[u]);let p=(0,a.useCallback)(async(r,s)=>{try{h(!0);let e=await l.Z.login({email:r,password:s});localStorage.setItem(n.il,e.accessToken),(0,o.O5)(e.accessToken);let{accessToken:a,...t}=e;return u(t),{success:!0}}catch(r){var a;return null==e||null==(a=e.onAuthError)||a.call(e,r),{success:!1,error:(0,i.u1)(r)}}finally{h(!1)}},[h,u,e]),f=(0,a.useCallback)(()=>{localStorage.removeItem(n.il),(0,o.Tp)(),m()},[m]),y=(0,a.useCallback)(async(r,s,a,t)=>{try{h(!0);let e=await l.Z.register({email:r,password:s,confirmPassword:s,firstName:a,lastName:t});localStorage.setItem(n.il,e.accessToken),(0,o.O5)(e.accessToken);let{accessToken:i,...c}=e;return u(c),{success:!0}}catch(r){var c;return null==e||null==(c=e.onAuthError)||c.call(e,r),{success:!1,error:(0,i.u1)(r)}}finally{h(!1)}},[h,u,e]),g=(0,a.useCallback)(e=>!0,[]),b=(null==s||null==(r=s.subscription)?void 0:r.plan)==="pro";return(0,a.useEffect)(()=>{let r=()=>{var r;f(),null==e||null==(r=e.onAuthError)||r.call(e,Error("Unauthorized"))};return window.addEventListener("auth-error",r),()=>window.removeEventListener("auth-error",r)},[f,e]),{user:s,isLoading:c,isAuthenticated:d,initalized:x,isPro:b,login:p,logout:f,register:y,hasPermission:g}}},6842:(e,r,s)=>{"use strict";s.r(r),s.d(r,{LoginForm:()=>b,default:()=>N});var a=s(4568);s(7620);var t=s(3631),l=s(2935),o=s(7541),n=s(9664),i=s.n(n),c=s(419),d=s(6005),m=s(8517),u=s(9760);let h=(0,s(2068).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var x=s(1157),w=s(6640),p=s(8350),f=s(3046),y=s(7248),g=s(2151);let b=()=>{let e=(0,o.useRouter)(),{login:r,isLoading:s}=(0,w.h)(),{addNotification:n}=(0,p.j)(),{register:b,handleSubmit:N,formState:{errors:j}}=(0,t.mN)({resolver:(0,l.u)(x.X5),defaultValues:{email:"",password:""}}),v=async s=>{try{let a=await r(s.email,s.password);a.success?(n({type:f._n.SUCCESS,message:"Welcome back!",duration:3e3}),e.push(y.bw.DASHBOARD)):n({type:f._n.ERROR,message:a.error||"Login failed",duration:5e3})}catch(e){n({type:f._n.ERROR,message:"An unexpected error occurred",duration:5e3})}};return(0,a.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Sign in to your Zenvoyer account"})]}),(0,a.jsxs)("form",{onSubmit:N(v),className:"space-y-5",children:[(0,a.jsx)(g.zB,{...b("email"),type:"email",label:"Email Address",placeholder:"you@example.com",error:j.email,icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)(g.zB,{...b("password"),type:"password",label:"Password",placeholder:"••••••••",error:j.password,icon:(0,a.jsx)(m.A,{className:"w-5 h-5 text-gray-400"}),required:!0}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(i(),{href:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors inline-flex items-center gap-1",children:["Forgot password?",(0,a.jsx)(u.A,{className:"w-3 h-3"})]})}),(0,a.jsx)(g.$n,{type:"submit",fullWidth:!0,loading:s,disabled:s,icon:(0,a.jsx)(h,{className:"w-5 h-5"}),className:"mt-6 h-12 text-base font-semibold",children:"Sign In"})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsxs)(i(),{href:y.bw.REGISTER,className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors inline-flex items-center gap-1",children:["Create one",(0,a.jsx)(u.A,{className:"w-4 h-4"})]})]})})]})})},N=b},7324:(e,r,s)=>{Promise.resolve().then(s.bind(s,6842)),Promise.resolve().then(s.bind(s,130))},7541:(e,r,s)=>{"use strict";var a=s(3041);s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})},8517:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9760:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9769:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(2068).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}}]);